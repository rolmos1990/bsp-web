<!-- <section class="kalacra otro d-none">
  <accordion>
      <accordion-group [panelClass]="customClass" [isOpen]="isFirstOpen">
        <button class="btn btn-link btn-block clearfix" accordion-heading>
          <div class="pull-left float-left" style="margin-left:-15px; margin-top: 5px;"><i class="fas fa-angle-down text-dark"></i> Tarjeta de crédito o débito</div>
        </button>
        <div class="container">
        <p class="subtitulo">Por favor ingresa la información de tu tarjeta de crédito2.</p>
                <label for="" class="mt-4 mb-3">Nombre de la tarjeta:</label>
                <input type="text" class="form-control" formControlName="cardName">
                <div class="error" *ngIf="formaPayment.get('cardName').hasError('required') && formaPayment.get('cardName').dirty">
                  Nombre de la tarjeta requerido 
                </div>
        
                <label for="" class="my-3">Número de tarjeta:</label>
                <input type="number" class="form-control" formControlName="cardNumber">
                <div class="error" *ngIf="formaPayment.get('cardNumber').hasError('required') && formaPayment.get('cardNumber').dirty">
                  Número de tarjeta requerido 
                </div>
        
                <label for="" class="my-3 d-block">Fecha de vencimiento:</label>
                <select name="" id="" class="form-control inter" formControlName="expireMonth">
                  <option value="01">01</option>
                  <option value="02">02</option>
                </select>
                <div class="error" *ngIf="formaPayment.get('expireMonth').hasError('required') && formaPayment.get('expireMonth').dirty">
                  Día de vencimiento requerido 
                </div>
                <select name="" id="" class="form-control inter ml-4" formControlName="expireYear">
                  <option value="2019">2019</option>
                  <option value="2018">2018</option>
                </select>
                <div class="error" *ngIf="formaPayment.get('expireYear').hasError('required') && formaPayment.get('expireYear').dirty">
                  Año de vencimiento requerido 
                </div>
        
                <label for="" class="my-3 d-block">CVV <i class="fas fa-info-circle" style="color:#4e74b0;"></i></label>
                <input type="text" class="form-control cvv" formControlName="cvv">
                <div class="error" *ngIf="formaPayment.get('cvv').hasError('required') && formaPayment.get('cvv').dirty">
                  CVV requerido 
                </div>
        
                <div class="form-check form-check-inline my-4">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                  <label class="form-check-label" for="inlineCheckbox1" style="font-weight:100;">Seleccionar  tarjeta como predeterminada</label>
                </div>
        
                <button class="btn btn-primary mb-5"><i class="fas fa-save" style="color:#4e74b0;"></i> Guardar tarjeta</button>
        </div>
      </accordion-group>
  </accordion>
  <button class="btn agregar"><i class="fas fa-play"></i> Agregar otra tarjeta</button>
</section>


<section class="kalacra otro d-none">
  <accordion>
      <accordion-group [panelClass]="customClass" [isOpen]="isFirstOpen">
        <button class="btn btn-link btn-block clearfix" accordion-heading>
          <div class="pull-left float-left" style="margin-left:-15px; margin-top: 5px;"><i class="fas fa-angle-down text-dark"></i> Tarjeta de crédito o débito</div>
        </button>
        <div class="container">
        <p class="subtitulo">Por favor ingresa la información de tu tarjeta de crédito.</p>
                <label for="" class="mt-4 mb-3">Nombre de la tarjeta:</label>
                <input type="text" class="form-control" formControlName="cardName">
        
                <label for="" class="my-3">Número de tarjeta:</label>
                <input type="text" class="form-control" formControlName="cardNumber">
        
                <label for="" class="my-3 d-block">Fecha de vencimiento:</label>
                <select name="" id="" class="form-control inter" formControlName="expireMonth">
                  <option value="01">01</option>
                  <option value="02">02</option>
                </select>
                <select name="" id="" class="form-control inter ml-4" formControlName="expireYear">
                  <option value="2019">2019</option>
                  <option value="2018">2018</option>
                </select>
        
                <label for="" class="my-3 d-block">CVV <i class="fas fa-info-circle" style="color:#4e74b0;"></i></label>
                <input type="text" class="form-control cvv" formControlName="cvv">
        
                <div class="form-check form-check-inline my-4">
                  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                  <label class="form-check-label" for="inlineCheckbox1" style="font-weight:100;">Seleccionar  tarjeta como predeterminada</label>
                </div>

                <div class="row">
                  <div class="col-12 col-md-6">
                      <button class="btn btn-primary mb-5" ><i class="fas fa-save" style="color:#4e74b0;"></i> Modificar tarjeta</button>
                  </div>
                  <div class="col-12 col-md-6">
                      <button class="btn btn-primary rojo mb-5"><i class="fas fa-trash" style="color:#f25d43;"></i> Eliminar tarjeta</button>
                  </div>
                </div>
        </div>
      </accordion-group>
  </accordion>
  <button class="btn agregar"><i class="fas fa-play"></i> Agregar otra tarjeta</button>
</section> -->
<section *ngIf="formaPayment" class="kalacra otro">
  <form [formGroup]="formaPayment">
    <accordion>
        <accordion-group [panelClass]="customClass" [isOpen]="isFirstOpen">
          <button class="btn btn-link btn-block clearfix mt-3" accordion-heading>
            <div class="pull-left float-left" style="margin-top: 5px;">Tarjeta de crédito o débito</div>
          </button>
          <div class="container">
          <p class="subtitulo">Por favor ingresa la información de tu tarjeta de crédito o débito.</p>
            <div class="row mt-1">
              <div class="form-group col-md-12">
                <label for="" class="mt-4 mb-3">Nombre que aparece en la tarjeta:</label>
                <input class="form-control" [ngClass]="{'is-invalid': invalid('cardName', formaPayment), 'is-valid': valid('cardName', formaPayment)}" formControlName="cardName">
                <div *ngIf="invalid('cardName', formaPayment)" class="invalid-feedback">
                  Por favor escriba su nombre tal cual se denota en la tarjeta.
                </div>
                <div *ngIf="valid('cardName', formaPayment)" class="valid-feedback">
                  ¡Excelente!
                </div>
              </div>
              <div class="form-group col-md-12">
                <label for="" class="my-2">Número de tarjeta: </label>
                <input type="text" class="form-control" [ngClass]="{'is-invalid': invalid('cardNumber', formaPayment), 'is-valid': valid('cardNumber', formaPayment)}" formControlName="cardNumber">
                <div *ngIf="invalid('cardNumber', formaPayment)" class="invalid-feedback">
                  Por favor introduzca un número de tarjeta válido, entre 13 y 18 dígitos.
                </div>
                <div *ngIf="valid('cardNumber', formaPayment)" class="valid-feedback">
                  ¡Excelente!
                </div>
              </div>
              <div class="form-group col-md-12">
                <label for="" class="my-2 d-block">Fecha de vencimiento: </label>
                <div class="row">
                  <div class="form-group col-6 col-sm-6 col-md-6 col-lg-4 ">
                    <select class="form-control reducido" [ngClass]="{'is-invalid': invalid('expireMonth', formaPayment), 'is-valid': valid('expireMonth', formaPayment)}" formControlName="expireMonth">
                      <option *ngFor="let month of months; let i=index" [value]="month.id">{{month.id}}</option>
                    </select>
                    <div *ngIf="invalid('expireMonth', formaPayment)" class="invalid-feedback">
                      Por favor indique el mes de vencimiento de su tarjeta.
                    </div>
                    <div *ngIf="valid('expireMonth', formaPayment)" class="valid-feedback">
                      ¡Excelente!
                    </div>
                  </div>
                  <div class="form-group col-6 col-sm- 6 col-md-6 col-lg-4">
                    <select class="form-control reducido" [ngClass]="{'is-invalid': invalid('expireYear', formaPayment), 'is-valid': valid('expireYear', formaPayment)}" formControlName="expireYear">
                      <option *ngFor="let year of years; let i=index" [value]="year">{{year}}</option>
                    </select>
                    <div *ngIf="invalid('expireYear', formaPayment)" class="invalid-feedback">
                      Indique el año de vencimiento de su tarjeta.
                    </div>
                    <div *ngIf="valid('expireYear', formaPayment)" class="valid-feedback">
                      ¡Excelente!
                    </div>
                  </div>
                </div>
              </div>
                  <div class="form-group col-md-4">
                      <ng-template #cvv>
                        <div class="text-justify">
                            <strong>¿Que es el CVV?</strong> <br> Son los 3 o 4 digitos que se encuentran en la parte de atrás de tu tarjeta de crédito o débito
                        </div>
                      </ng-template>
                    <label for="" class="mb-1 d-block">CVV
                        <button type="button" class="btn" [tooltip]="cvv" containerClass="customClass" style="margin-left: -10px;">
                          <i class="fas fa-info-circle mx-2"></i>
                        </button>
                    </label>
                    <input type="text" class="form-control cvv" [ngClass]="{'is-invalid': invalid('cvv', formaPayment), 'is-valid': valid('cvv', formaPayment)}" formControlName="cvv">
                    <div *ngIf="invalid('cvv', formaPayment)" class="invalid-feedback">
                      Introduzca un código de seguridad válido, entre 3 y 4 dígitos.
                    </div>
                    <div *ngIf="valid('cvv', formaPayment)" class="valid-feedback">
                      ¡Excelente, gracias por sus datos!
                    </div>
                  </div>
                  <div class="col-md-4">
                      <h5 class="my-2 pago">Total a pagar:</h5>
                      <p class="monto ml-2">${{payment?.monthlyPrime}}</p>
                  </div>
            </div>
          </div>
        </accordion-group>
    </accordion>
  </form>
  <div class="row">
    <div class="col-md-12 text-center mb-3">
        <button class="btn-primary solicitar" (click)="assignPaymentCard()" >PAGAR Y CONTINUAR</button>
    </div>
  </div>
</section>
<!-- 
<div class="row d-none">
  <div class="col-md-12">
    <div class="contenedor-tarjeta mt-5 mt-2">
      <div class="container contenedor">
        <div class="row"></div>
          <h4 class="mt-4" style="margin-left:1px;"> Tarjeta de crédito o débito</h4>
          <p class="pl-18">Por favor ingresa la información de tu tarjeta de crédito.</p>
            <label for="" class="mt-4 mb-3">Nombre de la tarjeta:</label>
            <input type="text" class="form-control" formControlName="cardName">
    
            <label for="" class="my-3">Número de tarjeta:</label>
            <input type="text" class="form-control" formControlName="cardNumber">
    
            <label for="" class="my-3 d-block">Fecha de vencimiento:</label>
            <select name="" id="" class="form-control inter" formControlName="expireMonth">
              <option value="01">01</option>
              <option value="02">02</option>
            </select>
            <select name="" id="" class="form-control inter ml-4" formControlName="expireYear">
              <option value="2019">2019</option>
              <option value="2018">2018</option>
            </select>
    
            <label for="" class="my-3 d-block">CVV <i class="fas fa-info-circle" style="color:#4e74b0;"></i></label>
            <input type="text" class="form-control cvv" formControlName="cvv">
      </div>
    </div>
  </div>
</div> -->