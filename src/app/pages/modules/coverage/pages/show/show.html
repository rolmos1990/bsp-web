
<ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" style="color: #556176;">&times;</span>
    </button>
  </div>
  <ng-template [ngIf]="isLoading">
    <bsp-loader></bsp-loader>
  </ng-template>
  <div *ngIf="!isLoading" class="modal-body">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <!-- -->
        </div>
        <div class="col-md-6">
          <img src="assets/img/menor.png" alt="" class="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <h4 class="h4-verde">Cobertura completa: </h4>
          <p>* Se índican los porcentajes de la suma asegurada <br> contratada segun el tipo de cobertura.</p>

            <div class="container cober coverage">
              <div class="position-relative">
                <div class="bolita"></div>
                <accordion>
                  <accordion-group [panelClass]="customClass" [isOpen]="isFirstOpen">
                    <button class="btn btn-link btn-block clearfix" accordion-heading>
                      <div class="pull-left float-left lix">Muerte accidental</div>
                      <div class="float-right">
                        <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                      </div>
                      <div class="porcentaje">
                          {{actualCoverage.coverageDetail.accidentalDeath}}%
                      </div>
                    </button>
                    <p>Si el asegurado muere en un accidente, a los beneficiarios se les pagará el monto asegurado que
                      contrató (indemnización). Ejm: accidentes de tránsito, sucesos imprevistos, homicidios dolosos y
                      culposos.</p>
                  </accordion-group>
                </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Adelantos de gastos funerarios</div>
                    <div class="float-right">
                        <img src="assets/img/arrow2.svg" alt="" class="arrow2"> 
                    </div>
                    <div class="porcentaje">
                      {{actualCoverage.coverageDetail.funeraryAdvances}}%
                    </div>

                  </button>
                  <p>Adelantamos hasta el 25% la suma asegurada de gastos funerarios a los beneficiarios cuando ocurre
                    la muerte accidental del asegurado. Ejm: si tu suma asegurada por muerte accidental es $10.000 te
                    adelantamos hasta $2500</p>
                </accordion-group>
              </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Doble indemnización por muerte por accidente específico</div>
                    <div class="float-right">
                      <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                    </div>
                    <div class="porcentaje">
                        {{actualCoverage.coverageDetail.dobleCompensation}}%
                    </div>
                  </button>
                  <p>Cubrimos un porcentaje según el grado de discapacidad que pudiera presentar el asegurado a causa de
                    un accidente sufrido</p>
                </accordion-group>
              </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Gastos médicos por accidente</div>
                    <div class="float-right">
                      <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                    </div>
                    <div class="porcentaje">
                        {{actualCoverage.coverageDetail.medicalExpenses}}%
                    </div>
                  </button>
                  <p>Cobertura opcional donde te reembolsamos hasta un 10% de la suma asegurada para gastos médicos
                    incurridos por accidentes.</p>
                </accordion-group>
              </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Invalidez permanente (total o parcial)</div>
                    <div class="float-right">
                      <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                    </div>
                    <div class="porcentaje">
                        {{actualCoverage.coverageDetail.permanentInhability}}%
                    </div>
                  </button>
                  <p>Duplicamos la suma asegurada por muerte accidental mientras el asegurado se transporta en un
                    vehículo público (autobús, metro, taxi, etc) o si se ve envuelto en un incendio en algún edificio
                    público (hotel, museo, cine, teatro, etc)</p>
                </accordion-group>
              </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Servicio de emergencia médica por accidente</div>
                    <div class="float-right">
                      <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                    </div>
                    <div class="porcentaje">
                        {{actualCoverage.coverageDetail.emergencyService}}%
                    </div>
                  </button>
                  <p></p>
                </accordion-group>
              </accordion>
              </div>

              <div class="position-relative">
              <div class="bolita"></div>
              <accordion>
                <accordion-group [panelClass]="customClass">
                  <button class="btn btn-link btn-block clearfix" accordion-heading>
                    <div class="pull-left float-left lix">Asistencia en viajes</div>
                    <div class="float-right">
                      <img src="assets/img/arrow2.svg" alt="" class="arrow2">
                    </div>
                    <div class="porcentaje">
                        {{actualCoverage.coverageDetail.travelAssistance}}%
                    </div>
                  </button>
                  <p>Asistencia médica durante tu viaje, si por indicación médica debes alojarte en un hotel, cubrimos
                    tu estancia mientras te recuperas, transporte de los familiares del asegurado en caso necesario. Si
                    ocurriera el fallecimiento del asegurado, traemos de vuelta sus restos así como a los familiares</p>
                </accordion-group>
              </accordion>
              </div>

            </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary centrado" (click)="openLg(terminos,actualCoverage, modal)">SOLICITAR</button>
  </div>
</ng-template>

<!-- Modal Términos y condiciones -->
<ng-template #terminos let-modal>
  <ng-template [ngIf]="isLoading">
    <bsp-loader></bsp-loader>
  </ng-template>
  <div *ngIf="!isLoading" class="modal-body terminos">
    <div class="container">
      <h4 class="titulo-modal">Declaración de salud</h4>
      <div class="terms">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, deserunt aut obcaecati quos laboriosam sapiente non aspernatur hic distinctio? 
          Dicta mollitia consequuntur rerum molestiae recusandae et accusamus maiores. Dolorum cum fugit unde commodi quod consequuntur repellendus 
          cumque sunt aliquam reprehenderit possimus doloribus dolores, perspiciatis quis laboriosam culpa officiis quaerat. Nesciunt magni doloribus
          exercitationem iure tempora excepturi necessitatibus eaque iste laborum possimus! Quae alias voluptatum, ducimus recusandae accusamus 
          illo rem, voluptas inventore hic numquam veritatis, quos consequatur ipsa architecto animi unde at corrupti deleniti reprehenderit harum
          quo possimus expedita? Reiciendis quod tempore incidunt fugit laborum quaerat nulla voluptate eius expedita adipisci!
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati illum quidem dolore quibusdam ipsum esse quis sint
          vitae molestiae aliquam in deserunt error excepturi quam at voluptate ratione dolor nostrum vel quo impedit minus, 
          consectetur quaerat odio. Alias doloremque pariatur quo debitis eum, neque explicabo facere aliquid assumenda quas culpa.</p>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, deserunt aut obcaecati quos laboriosam sapiente non aspernatur hic distinctio? 
            Dicta mollitia consequuntur rerum molestiae recusandae et accusamus maiores. Dolorum cum fugit unde commodi quod consequuntur repellendus 
            cumque sunt aliquam reprehenderit possimus doloribus dolores, perspiciatis quis laboriosam culpa officiis quaerat. Nesciunt magni doloribus
            exercitationem iure tempora excepturi necessitatibus eaque iste laborum possimus! Quae alias voluptatum, ducimus recusandae accusamus 
            illo rem, voluptas inventore hic numquam veritatis, quos consequatur ipsa architecto animi unde at corrupti deleniti reprehenderit harum
            quo possimus expedita? Reiciendis quod tempore incidunt fugit laborum quaerat nulla voluptate eius expedita adipisci!
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati illum quidem dolore quibusdam ipsum esse quis sint
            vitae molestiae aliquam in deserunt error excepturi quam at voluptate ratione dolor nostrum vel quo impedit minus, 
            consectetur quaerat odio. Alias doloremque pariatur quo debitis eum, neque explicabo facere aliquid assumenda quas culpa.</p>
      </div>
    </div>
  </div>
  <div class="px-5 py-3">
    <div class="row justify-content-between">
      <button class="btn-white" (click)="reject(modal)">CANCELAR</button>
      <button class="btn-primary-modal" (click)="createNewRequest(modal)">ACEPTO</button>
    </div>
  </div>
</ng-template>

<div *ngIf="!isLoading" class="wrapper">
  <section class="cobertura">
    <div class="container">
        <div class="centrado">
            <h3 class="titulo-1">¡Coberturas flexibles en tu seguro AP!</h3>
            <h4 class="subtitulo">Nuestra recomendación que más se adapta a lo que buscas:</h4>
        </div>

      <div class="row contenedor">
        <div *ngFor="let coverage of coverages; let i = index;" class="col-md-6 col-lg-4 d-none d-md-block">
          <div class="cuadrado {{ i===0 || i===2 ? 'mt-40' : 'sombra'}}">
            <div class="superior">
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                      <h4 class="xmes">Precio: {{coverage.coverageDetail.monthlyPrime | currency}}</h4>
                  </div>
                </div>
                  <div class="row">
                      <div class="col-md-12">
                          <img *ngIf="i === 0" src="https://res.cloudinary.com/merchanj/image/upload/v1555549470/banesco/icono3.png" alt="" class="">
                          <img *ngIf="i === 1" src="https://res.cloudinary.com/merchanj/image/upload/v1555549469/banesco/icono1.png" alt="" class="">
                          <img *ngIf="i === 2" src="https://res.cloudinary.com/merchanj/image/upload/v1555549470/banesco/icono2.png" alt="" class="">
                      </div>
                  </div>
              </div>
            </div>

            <div class="inferior">
              <div class="container">
                  <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <p class="text-center">Suma asegurada</p>
                        <h2 class="text-center">${{coverage.coverageDetail.insuredAmount | number:'1.0-0'}}</h2>
                    </div>
                  </div>
              </div>
            </div>

            <div class="contenedor-blanco">
              <div class="container">
                    <button class="btn ver-detalle" (click)="openSm(content, coverage)"><img src="assets/img/flechita.png" alt="" class="flechita"> Ver detalles</button>
                    <button class="btn btn-primary solicitar" (click)="openLg(terminos, coverage)">SOLICITAR</button>
              </div>
            </div>
          </div>
        </div>
        <div *ngFor="let coverage of coverages; let i = index;" class="col-md-6 col-lg-4 d-block d-md-none">
          <div class="cuadrado {{ i===0 || i===2 ? 'mt-40' : 'sombra'}}">
            <div class="superior">
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                      <h4 class="xmes">PrecioSSS: {{coverage.coverageDetail.monthlyPrime | currency}}</h4>
                  </div>
                </div>
                  <div class="row">
                      <div class="col-md-12">
                          <img *ngIf="i === 0" src="https://res.cloudinary.com/merchanj/image/upload/v1555549470/banesco/icono3.png" alt="" class="">
                          <img *ngIf="i === 1" src="https://res.cloudinary.com/merchanj/image/upload/v1555549469/banesco/icono1.png" alt="" class="">
                          <img *ngIf="i === 2" src="https://res.cloudinary.com/merchanj/image/upload/v1555549470/banesco/icono2.png" alt="" class="">
                      </div>
                  </div>
              </div>
            </div>

            <div class="inferior">
              <div class="container">
                  <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <p class="text-center">Suma asegurada</p>
                        <h2 class="text-center">${{coverage.coverageDetail.insuredAmount | number:'1.0-0'}}</h2>
                    </div>
                  </div>
              </div>
            </div>

            <div class="contenedor-blanco">
              <div class="container">
                    <button class="btn ver-detalle" (click)="openSm(content, coverage)"><img src="assets/img/flechita.png" alt="" class="flechita"> Ver detalles</button>
                    <button class="btn btn-primary solicitar" (click)="openLg(terminos, coverage)">SOLICITAR</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div> 

<ng-template [ngIf]="isLoading">
  <bsp-loader></bsp-loader>
</ng-template>