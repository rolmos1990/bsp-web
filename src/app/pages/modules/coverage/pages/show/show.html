
<ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" style="color: #556176;">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <!-- -->
        </div>
        <div class="col-md-6">
          <img src="assets/img/menor.png" alt="" class="">
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <h4 class="h4-verde" style="font-size:24px;">Cobertura: </h4>
        </div>
        <div class="col-md-6">
          <!-- -->
        </div>
      </div>
      <div class="">
        <div class="">
          <div class="row mt-3">
            <div class="col-8 col-md-8">
              <h4>Muerte accidental:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4>{{!actualCoverage.coverageDetail.accidentalDeath ? 'N/A' : '$' + actualCoverage.coverageDetail.accidentalDeath }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Adelantos de gastos funerarios:</h4>
            </div>
            <div class="col-8 col-md-4">
              <h4>{{!actualCoverage.coverageDetail.funeraryAdvances ? 'N/A' :  '$' + actualCoverage.coverageDetail.funeraryAdvances }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Doble indemnización por muerte por accidente específico:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4 class="especial">{{ !actualCoverage.coverageDetail.dobleCompensation ? 'N/A' : '$' + actualCoverage.coverageDetail.dobleCompensation }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Gastos médicos:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4>{{ !actualCoverage.coverageDetail.medicalExpenses ? 'N/A' : '$' + actualCoverage.coverageDetail.medicalExpenses }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Invalidez permanente:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4>{{ !actualCoverage.coverageDetail.permanentInhability ? 'N/A' : '$' + actualCoverage.coverageDetail.permanentInhability }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Incapacidad profesional u ocupacional:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4>{{ !actualCoverage.coverageDetail.professionalInhability ? 'N/A' : '$' + actualCoverage.coverageDetail.professionalInhability }}</h4>
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-md-8">
              <h4>Renta diaria por incapacidad temporal:</h4>
            </div>
            <div class="col-4 col-md-4">
              <h4>{{ !actualCoverage.coverageDetail.dailyRent ? 'N/A' : '$' + actualCoverage.coverageDetail.dailyRent }}</h4>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-8 col-md-8">
          <h4>Servicio de emergencia médica por accidente:</h4>
        </div>
        <div class="col-4 col-md-4">
          <h4>{{actualCoverage.coverageDetail.emergencyService ? 'Incluido' : 'No incluido'}}</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-8 col-md-8">
          <h4>Asistencias en viajes:</h4>
        </div>
        <div class="col-4 col-md-4">
          <h4>{{actualCoverage.coverageDetail.travelAssistance ? 'Incluido' : 'No incluido'}}</h4>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h4 class="h4-verde my-2">Beneficios: </h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <img src="assets/img/beneficios.png" alt="" class="w-100">
        </div>
        <div class="col-md-4">
          <img src="assets/img/beneficios3.png" alt="" class="w-100">
        </div>
        <div class="col-md-4">
            <img src="assets/img/beneficios2.png" alt="" class="w-100">
          </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary centrado" (click)="open(terminos,actualCoverage, modal)">SOLICITAR</button>
  </div>
</ng-template>

<ng-template [ngIf]="isLoading">
  <div class="container">
      <div class='banesco-loader'></div>
  </div>
</ng-template>
<!-- Modal Términos y condiciones -->
<ng-template #terminos let-modal>
  <div class="modal-body">
    <div class="container">
      <h4 class="titulo-modal">Términos y condiciones</h4>
      <div class="terminos">
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Omnis adipisci, dolorum, veniam a excepturi,
          molestiae eaque obcaecati placeat assumenda dicta facere explicabo atque.
          Voluptates minus tempora sit velit excepturi cupiditate debitis cum eligendi facere id officiis unde non,
          animi ducimus itaque nulla in sunt voluptatum magnam atque ab sed rem
          sequi? Eligendi delectus aspernatur sequi autem impedit voluptate tempore nobis nulla at aliquid adipisci
          repudiandae sint molestiae labore, quisquam voluptatem velit cupiditate
          sapiente nam itaque! Unde vero excepturi expedita odio libero laudantium nisi tempore accusamus dolore animi
          enim itaque dolorum deserunt, laborum quia. Nam, voluptates deserunt
          officiis sit eos minima minus, et quisquam labore eius commodi ut itaque eaque repellendus tenetur, veniam
          aspernatur nihil? Ad dignissimos magni, fugit itaque officiis,
          possimus tempore nemo dicta, iure natus at cumque. Vero dolorem natus ullam vel quae repudiandae aut enim,
          quis debitis vitae velit, recusandae saepe maxime sit distinctio
          consequatur consequuntur dolores nisi sunt voluptatum necessitatibus. Sed nisi voluptatibus perspiciatis nam
          eius similique, odit exercitationem, ullam dolores provident
          deleniti ab aliquam autem deserunt. Voluptates officia error perferendis, illum labore, facere vel, dicta
          quidem culpa a consequuntur! Minus nesciunt doloremque aspernatur
          fuga ad similique, reiciendis cupiditate voluptate a beatae. Minima quia ducimus consequatur laudantium quos
          quasi ab, ad quae error, rem neque, tenetur fuga deserunt sunt
          adipisci dolore delectus necessitatibus reiciendis cupiditate eligendi facere. Laborum ipsa adipisci expedita
          facere quasi perferendis distinctio reiciendis obcaecati porro,
          dicta non, et voluptatum? Sed quaerat natus iure nulla, expedita dolore temporibus autem neque a aliquid
          soluta! Voluptatum harum sunt amet vel at quae aut animi dicta
          quia nobis unde corporis asperiores molestias, cum fuga ducimus ut debitis hic alias quaerat aliquid
          reiciendis ipsam veritatis laudantium! Quo ea reiciendis corrupti
          temporibus, eligendi odit explicabo perferendis cumque perspiciatis, nostrum quaerat, rem accusantium deserunt
          aliquid fugiat labore itaque sequi! Facilis,
          quod.</p>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-white W-100" (click)="reject(modal)">NO ACEPTO</button>
    <button class="btn btn-primary W-100" (click)="createNewRequest(modal)">ACEPTO</button>
  </div>
</ng-template>
<!-- <button class="btn btn-lg btn-outline-primary" (click)="open(content)">Términos y condiciones</button> -->

<div class="wrapper">
  <section class="cobertura">
    <div class="container">
      <div class="row">
        <div *ngFor="let coverage of coverages; let i = index;" class="{{i === 0 ? 'col-md-12' : 'col-md-6 col-lg-4'}}">
          <ng-template [ngIf]="i === 0">
            <h3 class="titulo-1">¡Coberturas que se adaptan a ti!</h3>
            <h4 class="color-gray text-center">Te ofrecemos flexibilidad y precios accesibles en nuestras coberturas</h4>
          </ng-template>

          <div class="cuadrado {{i === 0 ? 'top' : ''}}">

            <div class="superior">
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                      <h4 class="xmes">${{coverage.coverageDetail.monthlyPrime}} x mes</h4>
                  </div>
                </div>
                  <div class="row">
                      <div class="col-md-12">
                        <img src="assets/img/icono1.png" alt="" class="">
                      </div>
                  </div>
              </div>
            </div>

            <div class="inferior">
              <div class="container">
                  <div class="row">
                    <div class="col-xs-12 col-md-12">
                      <h5>ACCIDENTES PERSONALES</h5>
                        <p>Adelanto de gastos funerarios: 
                          <span>
                            {{ coverage.coverageDetail.funeraryAdvances !== undefined  &&
                                coverage.coverageDetail.funeraryAdvances !== null ?
                                ('$' + coverage.coverageDetail.funeraryAdvances) : 'N/A' }}
                          </span>
                        </p>
                        <p>Muerte Accidental: 
                          <span>
                            {{ coverage.coverageDetail.accidentalDeath !== undefined  &&
                                coverage.coverageDetail.accidentalDeath !== null ?
                                ('$' + coverage.coverageDetail.accidentalDeath) : 'N/A' }}
                          </span>
                        </p>
                        <p>Incapacidad profesional u Ocupacional:
                          <span>
                             {{ coverage.coverageDetail.professionalInhability !== undefined  &&
                                coverage.coverageDetail.professionalInhability !== null ?
                                ('$' + coverage.coverageDetail.professionalInhability) : 'N/A' }}
                          </span>
                        </p>
                        <p>Gastos médicos: 
                          <span>
                             {{ coverage.coverageDetail.medicalExpenses !== undefined  &&
                                coverage.coverageDetail.medicalExpenses !== null ?
                                ('$' + coverage.coverageDetail.medicalExpenses) : 'N/A' }}
                          </span>
                          
                        </p>
                        <p>Asistencia en viajes: 
                          <span>{{coverage.coverageDetail.travelAssistance ? 'Incluido' : 'No incluido'}}</span>
                        </p>
                    </div>
                  </div>
              </div>
            </div>

            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                  <button class="btn ver-detalle" (click)="open(content, coverage)"><img src="assets/img/flechita.svg" alt=""> Ver detalles</button>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                  <button class="btn btn-primary solicitar" (click)="open(terminos,coverage)">SOLICITAR</button>
                </div>
              </div>
            </div>
          </div>
          <ng-template [ngIf]="i === 0">
            <h3 class="color-gray text-left">Otras recomendaciones para ti:</h3>
          </ng-template>
        </div>
      </div>
    </div>
  </section>
  <section class="condiciones pb-5">
      <h3 class="titulo-condiciones">
          Lo que debes saber de tu póliza...</h3>
    <div class="container cober">
        <accordion>
          <accordion-group [panelClass]="customClass" [isOpen]="isFirstOpen">
              <button class="btn btn-link btn-block clearfix" accordion-heading>
                <div class="pull-left float-left blue"><i class="fas fa-angle-down"></i> ¿Qué ventajas tiene?</div>
              </button>
            <ul>
              <li>El Asegurado tiene la opción de seleccionar el tipo de cobertura (total o vida profesional).</li>
              <li>Alta cobertura a bajo costo.</li>
              <li>Fácil y rápida contratación.</li>
              <li>Tarifas diseñadas de acuerdo a la actividad laboral y a la medida de sus posibilidades.</li>
              <li>Facilidades de pago mediante sus tarjeta de crédito o ACH (cuenta corriente o de ahorros).</li>
            </ul>
          </accordion-group>
        </accordion>
        
        <accordion>
          <accordion-group [panelClass]="customClass">
              <button class="btn btn-link btn-block clearfix" accordion-heading>
                <div class="pull-left float-left blue"><i class="fas fa-angle-down"></i> ¿Qué no cubre?</div>
              </button>
            This content is straight in the template.
          </accordion-group>
        </accordion>

        <accordion>
          <accordion-group [panelClass]="customClass">
              <button class="btn btn-link btn-block clearfix" accordion-heading>
                <div class="pull-left float-left blue"><i class="fas fa-angle-down"></i> ¿Quién puede asegurarse?</div>
              </button>
            This content is straight in the template.
          </accordion-group>
        </accordion>

          <accordion>
            <accordion-group [panelClass]="customClass">
                <button class="btn btn-link btn-block clearfix" accordion-heading>
                  <div class="pull-left float-left blue"><i class="fas fa-angle-down"></i> ¿Qué coberturas se ofrecen?</div>
                </button>
              This content is straight in the template.
            </accordion-group>
          </accordion>

        <accordion>
          <accordion-group [panelClass]="customClass">
              <button class="btn btn-link btn-block clearfix" accordion-heading>
                <div class="pull-left float-left blue"><i class="fas fa-angle-down"></i> Términos y condiciones</div>
              </button>
            This content is straight in the template.
          </accordion-group>
        </accordion>
    </div>
    
  </section>
</div> 